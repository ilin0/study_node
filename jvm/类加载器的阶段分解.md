
类加载
1. 在java代码中，类型（是指类，接口，枚举等，）的加载、连接与初始化过程都是在程序运行期间完成的。
2. 提供了更大的灵活性，增加了更多的可能性。

生命周期，以下情况下结束
1. 执行了System.exit()方法
2. 程序正常执行结束
3. 程序在执行过程中遇到了异常或错误而异常终止
4. 由于操作系统出现错误而导致Java虚拟机进程终止

##### 加载
    查找并加载类的二进制数据，就是把类的class文件加载内存
1. 将类的.class文件中的二进制数据读入到内存中，将其放在运行时数据区的方法区内，然后在内存中创建一个java.lang.Class对象（规范并未说明class对象位于哪里，Hotspot虚拟机将其放在了方法区中）用来封装类在方法区内的数据结构。

2. 方式 
    从本地系统中直接加载
    通过网络下载.class文件
    从zip,jar等归档文件中加载.class文件
    从专有数据库中提取.class文件
    将java源文件动态编译为.class文件

##### 连接
1. 验证
    确保被加载类的正确性。
2. 准备
    为类的静态变更分配内存，并将其初始化为默认值。
    如：
```java
    class Test {
        public static int a = 1;// 它会先初始化成0；在初始化时才会赋1.
    }

```
3. 解析
    把类中的符号引用转换为直接引用

##### 初始化
    为类的静态变量赋予正确的初始值
##### 使用
##### 卸载


#### 主动使用、被动使用
    所有的java虚拟机实现必须在每个类或接口被java程序『首次主动使用』 时才初始化他们。

##### 主动使用
1. 创建类的实例
2. 访问某个类或接口的表态变量，或者对该表态变量赋值
3. 调用类的表态方法
    助记符 getstatic  putstatic  invokestatic
4. 反射
5. 初始化一个类的子类
6. java虚拟机启动时被标明为启动类的类。
7. jdk1.7提供的动态语言的支持

###### 类的加载 
    类加载器并不需要等到某个类被『首次主动使用』时再加载
    1. jvm规范允许类加载器在预料某个类将要被使用时就预先加载它，如果在预先加载的过程中遇到了.class文件缺失或存在错误，类加载器必须在程序首次主动使用该类时才报告错误（LinkageError错误）
    2. 如果这个类一直没有被程序主动使用，那么类加载器就不会报告错误。

    通过示例1，我们能看到，主动使用父类时，子类并没有初始化，但它被加载了。


##### 加载.class文件的方式
    从本地系统中直接加载
    通过网络下载.class文件
    从zip,jar等归档文件中加载.class文件
    从专有数据库中提取.class文件
    将java源文件动态编译为.class文件
